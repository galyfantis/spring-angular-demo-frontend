<h2>Users</h2>
<h3>All users:</h3>
<div class="container">
    <div class="row">
        <div class="col-sm-3">
            <button class="btn" (click)="refresh()"><i class="fa fa-refresh"></i> Refresh</button>
        </div>
        <div class="col-sm-3">
            <button class="btn btn-success" (click)="createUser()"><i class="fa fa-plus"></i> New User</button>
        </div>
    </div>
</div>
<table class="table">
    <thead>
      <tr>
        <th scope="col">Username</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Roles</th>
        <th scope="col">Enabled</th>
        <th scope="col" colspan="3">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users | async">
        <th scope="row">{{user.username}}</th>
        <td>{{user.firstName}}</td>
        <td>{{user.lastName}}</td>
        <td>{{user.roles.join(', ')}}</td>
        <td><i *ngIf="user.enabled" class="fa fa-check"></i></td>
        <td>
          <button class="btn btn-primary" (click)="updateUser(user)"><i class="fa fa-edit"></i> Update User</button>
        </td>
        <td>
          <button class="btn btn-danger" (click)="deleteUser(user.username)"><i class="fa fa-remove"></i> Delete User</button>
        </td>
        <td>
          <button *ngIf="!user.enabled" class="btn btn-success" (click)="enableUser(user.username)"><i class="fa fa-check"></i> Enable User</button>
          <button *ngIf="user.enabled" class="btn btn-warning" (click)="disableUser(user.username)"><i class="fa fa-times"></i> Disable User</button>
        </td>
      </tr>
    </tbody>
</table>

<ngbd-user-modal></ngbd-user-modal>
